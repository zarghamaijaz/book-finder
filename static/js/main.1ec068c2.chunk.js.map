{"version":3,"sources":["components/header/search/search.jsx","components/header/header.jsx","components/body/book-item.jsx","components/body/book-list.jsx","App.js","useBookSearch.js","reportWebVitals.js","index.js"],"names":["Search","setPageNumber","setQuery","query","className","value","onChange","e","target","type","placeholder","Header","useState","openMenu","setOpenMenu","Container","Row","Col","xl","sm","xs","onClick","BookItem","name","style","margin","width","Card","Body","Title","split","map","c","i","Subtitle","Text","Link","href","BookList","books","loading","hasMore","error","lastBookElementRef","book","length","lg","md","ref","display","justifyContent","App","pageNumber","setLoading","setError","setBooks","setHasMore","useEffect","cancel","axios","method","url","params","q","page","cancelToken","CancelToken","then","res","prevBooks","Set","data","docs","b","title","console","log","catch","isCancel","useBookSearch","observer","useRef","useCallback","node","current","disconnect","IntersectionObserver","entries","isIntersecting","prev","observe","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1ec068c2.chunk.js","sourcesContent":["import './search.css';\r\nexport default function Search({setPageNumber,setQuery,query}){\r\n    function handleSearch(e){\r\n        setQuery(e.target.value);\r\n        setPageNumber(1);\r\n    }\r\n    return(\r\n        <div className=\"p-1\">\r\n            <input value={query} onChange={handleSearch} className=\"search-style\" type=\"text\" placeholder=\"Search for books\"/>\r\n        </div>\r\n    )\r\n}","\r\nimport './header.style.css'\r\nimport Search from './search/search'\r\nimport { Container,Row,Col } from 'react-bootstrap';\r\nimport { useState } from 'react'\r\n\r\n\r\nfunction Header({setQuery,setPageNumber,query}){\r\n    const [ openMenu,setOpenMenu ] = useState(false);\r\n    return(\r\n        <div className=\"main-header\">\r\n            <Container>\r\n                <Row>\r\n                    <Col xl={8} sm={6} xs={6}>\r\n                        <div>\r\n                            <h3 className=\"m-0\">Book library</h3>\r\n                        </div>\r\n                    </Col>\r\n                    <Col xl={4} sm={6} xs={6}>\r\n                        <Search query={query} setQuery={setQuery} setPageNumber={setPageNumber}/>\r\n                    </Col>\r\n                    <nav className={`navigation ${openMenu ? 'navigation-open' : ''}`}>\r\n                        <div className=\"navigation-close-btn pointer\" onClick={()=>setOpenMenu(false)}>\r\n                            close\r\n                        </div>\r\n                        <p>Home</p>\r\n                        <p>About</p>\r\n                        <p>Contact</p>\r\n                        <p>More options</p>\r\n                    </nav>\r\n                    <nav className=\"navigation-open-btn pointer\" onClick={()=>setOpenMenu(true)}>\r\n                        Menu\r\n                    </nav>\r\n                </Row>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\nexport default Header;","import {Card} from 'react-bootstrap';\r\n\r\nexport default function BookItem({name}){\r\n    return(\r\n        <div style={{margin:'0px auto',width:'fit-content'}}>\r\n        <Card style={{ width: '18rem' }}>\r\n            <Card.Body>\r\n                <Card.Title>{(name).split('').map((c,i)=>{\r\n                    if(i<9){\r\n                        return c\r\n                    }\r\n                    return null\r\n                })}</Card.Title>\r\n                <Card.Subtitle className=\"mb-2 text-muted\">Card Subtitle</Card.Subtitle>\r\n                <Card.Text>\r\n                Some quick example text to build on the card title and make up the bulk of\r\n                the card's content.\r\n                </Card.Text>\r\n                <Card.Link href=\"#\">Card Link</Card.Link>\r\n                <Card.Link href=\"#\">Another Link</Card.Link>\r\n            </Card.Body>\r\n        </Card>\r\n        </div>\r\n    )\r\n}","import BookItem from './book-item';\r\nimport { Container,Row,Col } from 'react-bootstrap';\r\n\r\nexport default function BookList({books,hasMore,loading,error,lastBookElementRef}){\r\n    return(\r\n        <Container>\r\n            <Row>\r\n            {\r\n                books.map((book,i)=>{\r\n                    if(books.length===i+1){\r\n                    return(\r\n                        <Col key={book} xl={3} lg={4} md={6}>\r\n                        <div ref={lastBookElementRef}>\r\n                            <BookItem name={book}/>\r\n                        </div>\r\n                        </Col>\r\n                    )\r\n                    }\r\n                    else{\r\n                        return(\r\n                        <Col key={book} xl={3} lg={4} md={6}>\r\n                        <div>\r\n                            <BookItem name={book}/>\r\n                        </div>\r\n                        </Col>\r\n                    )\r\n                    }\r\n                })\r\n            }\r\n            <div style={{display:'flex',width:'100%',justifyContent:'center'}}>\r\n            <h4>\r\n                {loading ? 'Loading Results....' : '' }\r\n            </h4>\r\n            <h4>\r\n                {error ? 'Error....' : '' }\r\n            </h4>\r\n            </div>\r\n                \r\n            </Row>\r\n        </Container>\r\n    )\r\n}","import './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Header from './components/header/header'\nimport BookList from './components/body/book-list';\nimport useBookSearch from './useBookSearch';\nimport{ useState,useRef,useCallback } from 'react';\nfunction App() {\n  const [query,setQuery] = useState('');\n  const [pageNumber,setPageNumber] = useState(1);\n  const {loading,error,books,hasMore} = useBookSearch(query,pageNumber);\n  const observer=useRef()\n  const lastBookElementRef=useCallback((node)=>{\n    if(loading) return\n    if(observer.current) observer.current.disconnect()\n    console.log(node)\n    observer.current=new IntersectionObserver(entries=>{\n      if(entries[0].isIntersecting && hasMore){\n        setPageNumber(prev=>prev+1)\n      }\n    })\n    if(node) observer.current.observe(node)\n  },[loading,hasMore])\n  return (\n    <div className=\"App\">\n      <Header query={query} setQuery={setQuery} setPageNumber={setPageNumber} />\n      <BookList lastBookElementRef={lastBookElementRef} books={books} loading={loading} error={error} hasMore={hasMore}/>\n    </div>\n  );\n}\n\nexport default App;\n","import { useEffect,useState } from 'react';\r\nimport axios from 'axios'\r\nexport default function useBookSearch(query,pageNumber){\r\n    const [loading,setLoading]=useState(true);\r\n    const [error,setError]=useState(true);\r\n    const [books,setBooks]=useState([]);\r\n    const [hasMore,setHasMore]=useState(false);\r\n    useEffect(()=>{\r\n        setBooks([])\r\n    },[query])\r\n    useEffect(()=>{\r\n        setLoading(true);\r\n        setError(false);\r\n        let cancel;\r\n        axios({\r\n            method:'GET',\r\n            url:'http://openlibrary.org/search.json',\r\n            params:{ q:query,page:pageNumber },\r\n            cancelToken: new axios.CancelToken(c=>cancel=c)\r\n        }).then(res=>{\r\n            setBooks(prevBooks=>{\r\n                return [...new Set([...prevBooks, ...res.data.docs.map(b=>b.title)])]\r\n            })\r\n            console.log(res.data);\r\n            setHasMore(res.data.docs.length>0)\r\n            setLoading(false)\r\n        }).catch(e=>{\r\n            if(axios.isCancel(e)) { console.log('request canceled');return}\r\n            setError(true)\r\n        })\r\n        return ()=>cancel()\r\n    },[pageNumber,query])\r\n    \r\n    return(\r\n        {loading,error,books,hasMore}\r\n    )\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}