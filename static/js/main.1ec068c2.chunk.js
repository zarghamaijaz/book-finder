(this["webpackJsonpbook-finder"]=this["webpackJsonpbook-finder"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(22),s=n.n(a),i=(n(27),n(7)),o=(n(28),n(29),n(30),n(31),n(1));function j(e){var t=e.setPageNumber,n=e.setQuery,c=e.query;return Object(o.jsx)("div",{className:"p-1",children:Object(o.jsx)("input",{value:c,onChange:function(e){n(e.target.value),t(1)},className:"search-style",type:"text",placeholder:"Search for books"})})}var l=n(52),u=n(53),b=n(54);var d=function(e){var t=e.setQuery,n=e.setPageNumber,r=e.query,a=Object(c.useState)(!1),s=Object(i.a)(a,2),d=s[0],h=s[1];return Object(o.jsx)("div",{className:"main-header",children:Object(o.jsx)(l.a,{children:Object(o.jsxs)(u.a,{children:[Object(o.jsx)(b.a,{xl:8,sm:6,xs:6,children:Object(o.jsx)("div",{children:Object(o.jsx)("h3",{className:"m-0",children:"Book library"})})}),Object(o.jsx)(b.a,{xl:4,sm:6,xs:6,children:Object(o.jsx)(j,{query:r,setQuery:t,setPageNumber:n})}),Object(o.jsxs)("nav",{className:"navigation ".concat(d?"navigation-open":""),children:[Object(o.jsx)("div",{className:"navigation-close-btn pointer",onClick:function(){return h(!1)},children:"close"}),Object(o.jsx)("p",{children:"Home"}),Object(o.jsx)("p",{children:"About"}),Object(o.jsx)("p",{children:"Contact"}),Object(o.jsx)("p",{children:"More options"})]}),Object(o.jsx)("nav",{className:"navigation-open-btn pointer",onClick:function(){return h(!0)},children:"Menu"})]})})})},h=n(55);function O(e){var t=e.name;return Object(o.jsx)("div",{style:{margin:"0px auto",width:"fit-content"},children:Object(o.jsx)(h.a,{style:{width:"18rem"},children:Object(o.jsxs)(h.a.Body,{children:[Object(o.jsx)(h.a.Title,{children:t.split("").map((function(e,t){return t<9?e:null}))}),Object(o.jsx)(h.a.Subtitle,{className:"mb-2 text-muted",children:"Card Subtitle"}),Object(o.jsx)(h.a.Text,{children:"Some quick example text to build on the card title and make up the bulk of the card's content."}),Object(o.jsx)(h.a.Link,{href:"#",children:"Card Link"}),Object(o.jsx)(h.a.Link,{href:"#",children:"Another Link"})]})})})}function x(e){var t=e.books,n=(e.hasMore,e.loading),c=e.error,r=e.lastBookElementRef;return Object(o.jsx)(l.a,{children:Object(o.jsxs)(u.a,{children:[t.map((function(e,n){return t.length===n+1?Object(o.jsx)(b.a,{xl:3,lg:4,md:6,children:Object(o.jsx)("div",{ref:r,children:Object(o.jsx)(O,{name:e})})},e):Object(o.jsx)(b.a,{xl:3,lg:4,md:6,children:Object(o.jsx)("div",{children:Object(o.jsx)(O,{name:e})})},e)})),Object(o.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"center"},children:[Object(o.jsx)("h4",{children:n?"Loading Results....":""}),Object(o.jsx)("h4",{children:c?"Error....":""})]})]})})}var f=n(11),m=n(10),g=n.n(m);var p=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(1),s=Object(i.a)(a,2),j=s[0],l=s[1],u=function(e,t){var n=Object(c.useState)(!0),r=Object(i.a)(n,2),a=r[0],s=r[1],o=Object(c.useState)(!0),j=Object(i.a)(o,2),l=j[0],u=j[1],b=Object(c.useState)([]),d=Object(i.a)(b,2),h=d[0],O=d[1],x=Object(c.useState)(!1),m=Object(i.a)(x,2),p=m[0],v=m[1];return Object(c.useEffect)((function(){O([])}),[e]),Object(c.useEffect)((function(){var n;return s(!0),u(!1),g()({method:"GET",url:"http://openlibrary.org/search.json",params:{q:e,page:t},cancelToken:new g.a.CancelToken((function(e){return n=e}))}).then((function(e){O((function(t){return Object(f.a)(new Set([].concat(Object(f.a)(t),Object(f.a)(e.data.docs.map((function(e){return e.title}))))))})),console.log(e.data),v(e.data.docs.length>0),s(!1)})).catch((function(e){g.a.isCancel(e)?console.log("request canceled"):u(!0)})),function(){return n()}}),[t,e]),{loading:a,error:l,books:h,hasMore:p}}(n,j),b=u.loading,h=u.error,O=u.books,m=u.hasMore,p=Object(c.useRef)(),v=Object(c.useCallback)((function(e){b||(p.current&&p.current.disconnect(),console.log(e),p.current=new IntersectionObserver((function(e){e[0].isIntersecting&&m&&l((function(e){return e+1}))})),e&&p.current.observe(e))}),[b,m]);return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(d,{query:n,setQuery:r,setPageNumber:l}),Object(o.jsx)(x,{lastBookElementRef:v,books:O,loading:b,error:h,hasMore:m})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(p,{})}),document.getElementById("root")),v()}},[[51,1,2]]]);
//# sourceMappingURL=main.1ec068c2.chunk.js.map